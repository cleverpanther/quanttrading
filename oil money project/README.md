# Oil money project

As I mentioned before, this is a project inspired by an article that i read. During low volatility period, the article recommended to trade Norwegian Krone as the oil price was bouncing back. To my curiosity, I intended to find out if this idea is plausible. First thing came to my mind was whether the correlation between Norwegian Krone and Brent Crude was substantial. Norway is one my fav places in Europe. Unlike Qatar or Saudi or any other gulf countries, it doesnt heavily rely on oil for its gross income. I doubted oil would be the only factor that affects the exchange rate of NOK. I looked into trading statistics of Norway. Basically, most trading partners are in European Union. Prior to stats, I included UK sterling and Euro in my linear regression model. To my surprise, Norway is actually doing a lot of business with US. Thus, the model consisted of EUR, GBP, USD and Brent Crude.

The regression result came out as below. We had a pretty high R square. All T stats and F stats were significant. As the summary suggested, there could be multicollinearity. I wouldnt doubt it as Brent Crude and USD should be negatively correlated.

![alt text](https://github.com/tattooday/quant-trading/blob/master/oil%20money%20project/preview/model%20summary.PNG)

In this case, we could use elastic net regression to implement a penalty function on this multicollinearity problem. Elastic net is a statistics/machine learning technique that consists of Lasso and Ridge regression (more details can be found from https://en.wikipedia.org/wiki/Elastic_net_regularization ). Lets take elastic net estimated NOK to subtract from OLS estimated NOK. From the figure below, we could tell the distribution of the difference is negatively skewed which implied OLS overestimated NOK.

![alt text](https://github.com/tattooday/quant-trading/blob/master/oil%20money%20project/preview/ols%20vs%20elastic%20net.png)

The next step, we take the residuals from both estimations and check its standard deviation. It turns out that elastic net regression delivers a smaller standard deviation. Now we could determine OLS estimation was biased and elastic net estimation would be the better answer. Before signal generation, we ought to set up thresholds. For common practise in statistical arbitrage, we take one sigma away from our fitted value as thresholds. When actual NOK price goes above the upper threshold, we take a short position cuz we hold the belief that it would come back to its so called normal status. For lower threshold scenario, its vice versa. However, the model is based on historical data. Our estimation is most likely to be overfitting. We need to set up other thresholds for stop orders. When the model doesnt work any more, we would clear our positions and exit the trades. We would use the statistical golden rule, 2 sigmas with 95% confidence interval, to do the trick. If NOK deviates 2 sigmas away from our fitted value, we will reverse our positions and get outta there while we can. The figures below are positions prior to our signal generations and the price movement against our fitted value.

![alt text](https://github.com/tattooday/quant-trading/blob/master/oil%20money%20project/preview/positions.png)
![alt text](https://github.com/tattooday/quant-trading/blob/master/oil%20money%20project/preview/actual%20vs%20fitted.png)

What really interests us is why our model doesnt work any more. A detailed causal analysis is basically writing a thesis. Oh, how I hate writing thesis! I would make it short here. What we can tell is that after 2017/11/15 things have dramatically changed. What could possibly be the reason? Could it be that Saudi and Iran endorsed an extension of production caps on that particular date? Or Donald Trump got elected as POTUS so he would encourage a depreciated US dollar?

![alt text](https://github.com/tattooday/quant-trading/blob/master/oil%20money%20project/preview/brent%20crude.png)

Well, we are not economists. I wont write a paper on this. Then, lets take a look at our portfolio performance. So far so good, we actually made a few bucks from NOK. Interestingly, after we placed the stop order, I decided to add extra position to see what would happen. In the figure below, we could see the profolio when NOK breached the stop loss threshold. The downwards momentum didnt stop until two months later (maybe another major event in financial market occured). 

![alt text](https://github.com/tattooday/quant-trading/blob/master/oil%20money%20project/preview/portfolio.png)

Wow, did we just do a momentum trading strategy! We started to find a statistical arbitrage between oil price and oil producing country forex. What we got in return is a momentum trading strategy. My explanation for our results would be when the model doesnt work any more, there must be some fundamental situations that have changed investors outlooks in NOK forever. I tested this trading strategy on NOK in different periods. It turned out that our momentum trading is much more riskless and profitable than our statistical arbitrage. But does it work on any other currencies? Unfortunately, Norway is one of the largest oil producing countries with floating FX regime. The rest is US and Russia. But US dollar is a totally different case. It doesnt rely on WTI price. What about Russian Ruble? Well, I have attached raw data of Russian Ruble. From my tests, I could only complain Russia had been sanctioned by US so many times. Models on Russian Rumble are not robust. Maybe you can have a better idea to do it. If you do, plz let me know.
